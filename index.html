<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cyber Defender: Incident Response Lab</title>

<style>

body{
  background:#ffffff;
  color:#0f172a;
  font-family: Arial, sans-serif;
  text-align:center;
  margin:0;
  padding:20px;
}

h1{
  margin-top:5px;
}

button{
  padding:12px 20px;
  margin:8px;
  font-size:16px;
  font-weight:600;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#0d9488;
  color:white;
}

button:hover{
  opacity:0.9;
}

input{
  padding:10px;
  font-size:16px;
  width:100%;
  border-radius:6px;
  border:1px solid #ccc;
  text-align:center;
}

.feedback{
  margin-top:12px;
  font-size:18px;
}

.correct{ color:#16a34a; }
.wrong{ color:#dc2626; }

.big-box{
  background:#d3d3d3;
  width:600px;
  max-width:95%;
  margin:20px auto;
  padding:25px;
  border-radius:10px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

.section{
  display:none;
}

img{
  width:600px;
  max-width:95%;
  margin:10px auto;
  display:block;
  border-radius:10px;
}

</style>
</head>

<body>

<img src="logo.png" alt="Cyber Defender Logo">

<h1>Ransomware Incident at IR-ORG</h1>

<!---------------- MAIN MENU ---------------->
<div id="menu" class="big-box">
  <h2>Choose a Section</h2>
  <button onclick="showSection('misp')">MISP</button>
  <button onclick="showSection('cortex')">Cortex</button>
  <button onclick="showSection('hive')">The Hive</button>
</div>

<!---------------- MISP ---------------->
<div id="misp" class="section big-box">
  <h2>MISP</h2>
  <p>Select a question:</p>

  <button onclick="showSection('misp-q1')">Question 1</button>
  <button onclick="showSection('misp-q2')">Question 2</button>
  <button onclick="showSection('misp-q3')">Question 3</button>

  <br><br>
  <button onclick="returnMenu()">⬅ Back to Menu</button>
</div>

<div id="misp-q1" class="section big-box">
  <p><b>What is the Threat Level for this Incident?</b></p>
  <input id="misp-q1-answer">
  <button onclick="checkText('misp-q1-answer','high')">Submit</button>
  <div class="feedback"></div>
</div>
  
<div id="misp-q2" class="section big-box">
  <p><b>What ransomware group is responsible for the incident?</b></p>
  <input id="misp-q2-answer">
  <button onclick="checkText('misp-q2-answer','dragonforce')">Submit</button>
  <div class="feedback"></div>
</div>

<div id="misp-q3" class="section big-box">
  <p><b>What is the Event ID for the "Related Event" associated with the attribute "185.59.221.75"?</b></p>
  <input id="misp-q3-answer">
  <button onclick="checkText('misp-q3-answer','1795')">Submit</button>
  <div class="feedback"></div>
</div>



<!---------------- CORTEX ---------------->
<div id="cortex" class="section big-box">
  <h2>Cortex</h2>
  <p>Select a question:</p>

  <button onclick="showSection('cortex-q1')">Question 1</button>
  <button onclick="showSection('cortex-q2')">Question 2</button>
  <button onclick="showSection('cortex-q3')">Question 3</button>

  <br><br>
  <button onclick="returnMenu()">⬅ Back to Menu</button>
</div>

<div id="cortex-q1" class="section big-box">
  <p><b>What is the first "level" value for IP <code>185.59.221.75</code>?</b></p>
  <input id="cortex-q1-answer">
  <button onclick="checkText('cortex-q1-answer','malicious')">Submit</button>
  <div class="feedback"></div>
</div>

<div id="cortex-q2" class="section big-box">
  <p><b>What namespace appears in the first taxonomy entry?</b></p>
  <input id="cortex-q2-answer">
  <button onclick="checkText('cortex-q2-answer','vt')">Submit</button>
  <div class="feedback"></div>
</div>

<div id="cortex-q3" class="section big-box">
  <p><b>How many scanners flagged this IP as malicious?</b></p>
  <input id="cortex-q3-answer">
  <button onclick="checkText('cortex-q3-answer','6')">Submit</button>
  <div class="feedback"></div>
</div>

<!---------------- THE HIVE ---------------->
<div id="hive" class="section big-box">
  <h2>The Hive</h2>
  <p>Select a question:</p>

  <button onclick="showSection('hive-q1')">Question 1</button>
  <button onclick="showSection('hive-q2')">Question 2</button>
  <button onclick="showSection('hive-q3')">Question 3</button>

  <br><br>
  <button onclick="returnMenu()">⬅ Back to Menu</button>
</div>

<div id="hive-q1" class="section big-box">
  <p><b>What domain observable is tagged as malicious?</b></p>
  <input id="hive-q1-answer">
  <button onclick="checkText('hive-q1-answer','dom3.com')">Submit</button>
  <div class="feedback"></div>
</div>

<div id="hive-q2" class="section big-box">
  <p><b>How many case tasks are available for the Incident?</code>?</b></p>
  <input id="hive-q2-answer">
  <button onclick="checkText('hive-q2-answer','6')">Submit</button>
  <div class="feedback"></div>
</div>

<div id="hive-q3" class="section big-box">
  <p><b>Which case task involves your team preventing the ransomware from spreading all over your organisation?</b></p>
  <input id="hive-q3-answer">
  <button onclick="checkText('hive-q3-answer','containment')">Submit</button>
  <div class="feedback"></div>
</div>

<!---------------- JAVASCRIPT ---------------->
<script>

function showSection(sectionId){
  document.querySelectorAll(".section").forEach(s => s.style.display = "none");
  document.getElementById("menu").style.display = "none";
  document.getElementById(sectionId).style.display = "block";
}

function returnMenu(){
  resetAllFields();                // ✅ Clear everything
  document.querySelectorAll(".section").forEach(s => s.style.display="none");
  document.getElementById("menu").style.display="block";
}

function resetAllFields(){
  // Clear inputs
  document.querySelectorAll("input").forEach(input => {
    input.value = "";
  });

  // Clear feedback text
  document.querySelectorAll(".feedback").forEach(fb => {
    fb.innerHTML = "";
  });
}

function checkText(inputId, correctAnswer){
  let input = document.getElementById(inputId);
  let userAnswer = input.value.trim().toLowerCase();
  let expected = correctAnswer.toLowerCase();
  let feedback = input.parentElement.querySelector(".feedback");

  if(userAnswer === expected){
    feedback.innerHTML = "<span class='correct'>✅ Correct</span>";
  } else{
    feedback.innerHTML =
      "<span class='wrong'>❌ Incorrect</span><br>" +
      "Correct answer: <b>" + correctAnswer + "</b>";
  }

  // ✅ Auto-clear + return to menu
  setTimeout(() => {
    returnMenu();
  }, 1500);
}

</script>


</body>
</html>
